{"contracts":{"SimpleDAO.sol":{"SimpleDAO":{"evm":{"deployedBytecode":{"object":"60806040526004361061003e5760003560e01c8062362a95146100435780632e1a7d4d1461005f57806359f1286d14610088578063d5d44d80146100c5575b600080fd5b61005d60048036038101906100589190610328565b610102565b005b34801561006b57600080fd5b506100866004803603810190610081919061038b565b61015a565b005b34801561009457600080fd5b506100af60048036038101906100aa9190610328565b610265565b6040516100bc91906103c7565b60405180910390f35b3480156100d157600080fd5b506100ec60048036038101906100e79190610328565b6102ad565b6040516100f991906103c7565b60405180910390f35b346000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282546101509190610411565b9250508190555050565b806000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002054106102625760003373ffffffffffffffffffffffffffffffffffffffff16826040516101c590610476565b60006040518083038185875af1925050503d8060008114610202576040519150601f19603f3d011682016040523d82523d6000602084013e610207565b606091505b50509050816000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206000828254610259919061048b565b92505081905550505b50565b60008060008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020549050919050565b60006020528060005260406000206000915090505481565b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006102f5826102ca565b9050919050565b610305816102ea565b811461031057600080fd5b50565b600081359050610322816102fc565b92915050565b60006020828403121561033e5761033d6102c5565b5b600061034c84828501610313565b91505092915050565b6000819050919050565b61036881610355565b811461037357600080fd5b50565b6000813590506103858161035f565b92915050565b6000602082840312156103a1576103a06102c5565b5b60006103af84828501610376565b91505092915050565b6103c181610355565b82525050565b60006020820190506103dc60008301846103b8565b92915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b600061041c82610355565b915061042783610355565b925082820190508082111561043f5761043e6103e2565b5b92915050565b600081905092915050565b50565b6000610460600083610445565b915061046b82610450565b600082019050919050565b600061048182610453565b9150819050919050565b600061049682610355565b91506104a183610355565b92508282039050818111156104b9576104b86103e2565b5b9291505056fea26469706673582212202717d0422888d21aee5958de82bab624e46c9285f0500c324c2ba4fcd328e6e764736f6c634300081a0033","opcodes":"PUSH1 0x80 PUSH1 0x40 MSTORE PUSH1 0x4 CALLDATASIZE LT PUSH2 0x3E JUMPI PUSH1 0x0 CALLDATALOAD PUSH1 0xE0 SHR DUP1 PUSH3 0x362A95 EQ PUSH2 0x43 JUMPI DUP1 PUSH4 0x2E1A7D4D EQ PUSH2 0x5F JUMPI DUP1 PUSH4 0x59F1286D EQ PUSH2 0x88 JUMPI DUP1 PUSH4 0xD5D44D80 EQ PUSH2 0xC5 JUMPI JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH2 0x5D PUSH1 0x4 DUP1 CALLDATASIZE SUB DUP2 ADD SWAP1 PUSH2 0x58 SWAP2 SWAP1 PUSH2 0x328 JUMP JUMPDEST PUSH2 0x102 JUMP JUMPDEST STOP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x6B JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0x86 PUSH1 0x4 DUP1 CALLDATASIZE SUB DUP2 ADD SWAP1 PUSH2 0x81 SWAP2 SWAP1 PUSH2 0x38B JUMP JUMPDEST PUSH2 0x15A JUMP JUMPDEST STOP JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0x94 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0xAF PUSH1 0x4 DUP1 CALLDATASIZE SUB DUP2 ADD SWAP1 PUSH2 0xAA SWAP2 SWAP1 PUSH2 0x328 JUMP JUMPDEST PUSH2 0x265 JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH2 0xBC SWAP2 SWAP1 PUSH2 0x3C7 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST CALLVALUE DUP1 ISZERO PUSH2 0xD1 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP PUSH2 0xEC PUSH1 0x4 DUP1 CALLDATASIZE SUB DUP2 ADD SWAP1 PUSH2 0xE7 SWAP2 SWAP1 PUSH2 0x328 JUMP JUMPDEST PUSH2 0x2AD JUMP JUMPDEST PUSH1 0x40 MLOAD PUSH2 0xF9 SWAP2 SWAP1 PUSH2 0x3C7 JUMP JUMPDEST PUSH1 0x40 MLOAD DUP1 SWAP2 SUB SWAP1 RETURN JUMPDEST CALLVALUE PUSH1 0x0 DUP1 DUP4 PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND DUP2 MSTORE PUSH1 0x20 ADD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 KECCAK256 PUSH1 0x0 DUP3 DUP3 SLOAD PUSH2 0x150 SWAP2 SWAP1 PUSH2 0x411 JUMP JUMPDEST SWAP3 POP POP DUP2 SWAP1 SSTORE POP POP JUMP JUMPDEST DUP1 PUSH1 0x0 DUP1 CALLER PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND DUP2 MSTORE PUSH1 0x20 ADD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 KECCAK256 SLOAD LT PUSH2 0x262 JUMPI PUSH1 0x0 CALLER PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND DUP3 PUSH1 0x40 MLOAD PUSH2 0x1C5 SWAP1 PUSH2 0x476 JUMP JUMPDEST PUSH1 0x0 PUSH1 0x40 MLOAD DUP1 DUP4 SUB DUP2 DUP6 DUP8 GAS CALL SWAP3 POP POP POP RETURNDATASIZE DUP1 PUSH1 0x0 DUP2 EQ PUSH2 0x202 JUMPI PUSH1 0x40 MLOAD SWAP2 POP PUSH1 0x1F NOT PUSH1 0x3F RETURNDATASIZE ADD AND DUP3 ADD PUSH1 0x40 MSTORE RETURNDATASIZE DUP3 MSTORE RETURNDATASIZE PUSH1 0x0 PUSH1 0x20 DUP5 ADD RETURNDATACOPY PUSH2 0x207 JUMP JUMPDEST PUSH1 0x60 SWAP2 POP JUMPDEST POP POP SWAP1 POP DUP2 PUSH1 0x0 DUP1 CALLER PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND DUP2 MSTORE PUSH1 0x20 ADD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 KECCAK256 PUSH1 0x0 DUP3 DUP3 SLOAD PUSH2 0x259 SWAP2 SWAP1 PUSH2 0x48B JUMP JUMPDEST SWAP3 POP POP DUP2 SWAP1 SSTORE POP POP JUMPDEST POP JUMP JUMPDEST PUSH1 0x0 DUP1 PUSH1 0x0 DUP4 PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF AND DUP2 MSTORE PUSH1 0x20 ADD SWAP1 DUP2 MSTORE PUSH1 0x20 ADD PUSH1 0x0 KECCAK256 SLOAD SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 MSTORE DUP1 PUSH1 0x0 MSTORE PUSH1 0x40 PUSH1 0x0 KECCAK256 PUSH1 0x0 SWAP2 POP SWAP1 POP SLOAD DUP2 JUMP JUMPDEST PUSH1 0x0 DUP1 REVERT JUMPDEST PUSH1 0x0 PUSH20 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF DUP3 AND SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x2F5 DUP3 PUSH2 0x2CA JUMP JUMPDEST SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH2 0x305 DUP2 PUSH2 0x2EA JUMP JUMPDEST DUP2 EQ PUSH2 0x310 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP JUMP JUMPDEST PUSH1 0x0 DUP2 CALLDATALOAD SWAP1 POP PUSH2 0x322 DUP2 PUSH2 0x2FC JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x33E JUMPI PUSH2 0x33D PUSH2 0x2C5 JUMP JUMPDEST JUMPDEST PUSH1 0x0 PUSH2 0x34C DUP5 DUP3 DUP6 ADD PUSH2 0x313 JUMP JUMPDEST SWAP2 POP POP SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 DUP2 SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH2 0x368 DUP2 PUSH2 0x355 JUMP JUMPDEST DUP2 EQ PUSH2 0x373 JUMPI PUSH1 0x0 DUP1 REVERT JUMPDEST POP JUMP JUMPDEST PUSH1 0x0 DUP2 CALLDATALOAD SWAP1 POP PUSH2 0x385 DUP2 PUSH2 0x35F JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 DUP5 SUB SLT ISZERO PUSH2 0x3A1 JUMPI PUSH2 0x3A0 PUSH2 0x2C5 JUMP JUMPDEST JUMPDEST PUSH1 0x0 PUSH2 0x3AF DUP5 DUP3 DUP6 ADD PUSH2 0x376 JUMP JUMPDEST SWAP2 POP POP SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH2 0x3C1 DUP2 PUSH2 0x355 JUMP JUMPDEST DUP3 MSTORE POP POP JUMP JUMPDEST PUSH1 0x0 PUSH1 0x20 DUP3 ADD SWAP1 POP PUSH2 0x3DC PUSH1 0x0 DUP4 ADD DUP5 PUSH2 0x3B8 JUMP JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH32 0x4E487B7100000000000000000000000000000000000000000000000000000000 PUSH1 0x0 MSTORE PUSH1 0x11 PUSH1 0x4 MSTORE PUSH1 0x24 PUSH1 0x0 REVERT JUMPDEST PUSH1 0x0 PUSH2 0x41C DUP3 PUSH2 0x355 JUMP JUMPDEST SWAP2 POP PUSH2 0x427 DUP4 PUSH2 0x355 JUMP JUMPDEST SWAP3 POP DUP3 DUP3 ADD SWAP1 POP DUP1 DUP3 GT ISZERO PUSH2 0x43F JUMPI PUSH2 0x43E PUSH2 0x3E2 JUMP JUMPDEST JUMPDEST SWAP3 SWAP2 POP POP JUMP JUMPDEST PUSH1 0x0 DUP2 SWAP1 POP SWAP3 SWAP2 POP POP JUMP JUMPDEST POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x460 PUSH1 0x0 DUP4 PUSH2 0x445 JUMP JUMPDEST SWAP2 POP PUSH2 0x46B DUP3 PUSH2 0x450 JUMP JUMPDEST PUSH1 0x0 DUP3 ADD SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x481 DUP3 PUSH2 0x453 JUMP JUMPDEST SWAP2 POP DUP2 SWAP1 POP SWAP2 SWAP1 POP JUMP JUMPDEST PUSH1 0x0 PUSH2 0x496 DUP3 PUSH2 0x355 JUMP JUMPDEST SWAP2 POP PUSH2 0x4A1 DUP4 PUSH2 0x355 JUMP JUMPDEST SWAP3 POP DUP3 DUP3 SUB SWAP1 POP DUP2 DUP2 GT ISZERO PUSH2 0x4B9 JUMPI PUSH2 0x4B8 PUSH2 0x3E2 JUMP JUMPDEST JUMPDEST SWAP3 SWAP2 POP POP JUMP INVALID LOG2 PUSH5 0x6970667358 0x22 SLT KECCAK256 0x27 OR 0xD0 TIMESTAMP 0x28 DUP9 0xD2 BYTE 0xEE MSIZE PC 0xDE DUP3 0xBA 0xB6 0x24 0xE4 PUSH13 0x9285F0500C324C2BA4FCD328E6 0xE7 PUSH5 0x736F6C6343 STOP ADDMOD BYTE STOP CALLER ","sourceMap":"283:472:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;353:79;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;438:219;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;663:89;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;307:39;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;353:79;417:9;403:6;:10;410:2;403:10;;;;;;;;;;;;;;;;:23;;;;;;;:::i;:::-;;;;;;;;353:79;:::o;438:219::-;508:6;487;:18;494:10;487:18;;;;;;;;;;;;;;;;:27;483:169;;562:8;575:10;:15;;598:6;575:34;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;561:48;;;638:6;618;:18;625:10;618:18;;;;;;;;;;;;;;;;:26;;;;;;;:::i;:::-;;;;;;;;516:136;483:169;438:219;:::o;663:89::-;717:4;736:6;:10;743:2;736:10;;;;;;;;;;;;;;;;729:17;;663:89;;;:::o;307:39::-;;;;;;;;;;;;;;;;;:::o;88:117:1:-;197:1;194;187:12;334:126;371:7;411:42;404:5;400:54;389:65;;334:126;;;:::o;466:96::-;503:7;532:24;550:5;532:24;:::i;:::-;521:35;;466:96;;;:::o;568:122::-;641:24;659:5;641:24;:::i;:::-;634:5;631:35;621:63;;680:1;677;670:12;621:63;568:122;:::o;696:139::-;742:5;780:6;767:20;758:29;;796:33;823:5;796:33;:::i;:::-;696:139;;;;:::o;841:329::-;900:6;949:2;937:9;928:7;924:23;920:32;917:119;;;955:79;;:::i;:::-;917:119;1075:1;1100:53;1145:7;1136:6;1125:9;1121:22;1100:53;:::i;:::-;1090:63;;1046:117;841:329;;;;:::o;1176:77::-;1213:7;1242:5;1231:16;;1176:77;;;:::o;1259:122::-;1332:24;1350:5;1332:24;:::i;:::-;1325:5;1322:35;1312:63;;1371:1;1368;1361:12;1312:63;1259:122;:::o;1387:139::-;1433:5;1471:6;1458:20;1449:29;;1487:33;1514:5;1487:33;:::i;:::-;1387:139;;;;:::o;1532:329::-;1591:6;1640:2;1628:9;1619:7;1615:23;1611:32;1608:119;;;1646:79;;:::i;:::-;1608:119;1766:1;1791:53;1836:7;1827:6;1816:9;1812:22;1791:53;:::i;:::-;1781:63;;1737:117;1532:329;;;;:::o;1867:118::-;1954:24;1972:5;1954:24;:::i;:::-;1949:3;1942:37;1867:118;;:::o;1991:222::-;2084:4;2122:2;2111:9;2107:18;2099:26;;2135:71;2203:1;2192:9;2188:17;2179:6;2135:71;:::i;:::-;1991:222;;;;:::o;2219:180::-;2267:77;2264:1;2257:88;2364:4;2361:1;2354:15;2388:4;2385:1;2378:15;2405:191;2445:3;2464:20;2482:1;2464:20;:::i;:::-;2459:25;;2498:20;2516:1;2498:20;:::i;:::-;2493:25;;2541:1;2538;2534:9;2527:16;;2562:3;2559:1;2556:10;2553:36;;;2569:18;;:::i;:::-;2553:36;2405:191;;;;:::o;2602:147::-;2703:11;2740:3;2725:18;;2602:147;;;;:::o;2755:114::-;;:::o;2875:398::-;3034:3;3055:83;3136:1;3131:3;3055:83;:::i;:::-;3048:90;;3147:93;3236:3;3147:93;:::i;:::-;3265:1;3260:3;3256:11;3249:18;;2875:398;;;:::o;3279:379::-;3463:3;3485:147;3628:3;3485:147;:::i;:::-;3478:154;;3649:3;3642:10;;3279:379;;;:::o;3664:194::-;3704:4;3724:20;3742:1;3724:20;:::i;:::-;3719:25;;3758:20;3776:1;3758:20;:::i;:::-;3753:25;;3802:1;3799;3795:9;3787:17;;3826:1;3820:4;3817:11;3814:37;;;3831:18;;:::i;:::-;3814:37;3664:194;;;;:::o"}},"metadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"credit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"donate\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"}],\"name\":\"queryCredit\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"withdraw\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"SimpleDAO.sol\":\"SimpleDAO\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[]},\"sources\":{\"SimpleDAO.sol\":{\"content\":\"/*\\r\\n * @source: http://blockchain.unica.it/projects/ethereum-survey/attacks.html#simpledao\\r\\n * Upgraded from Solidity 0.4 to 0.8, vulnerability may no longer exist\\r\\n * @author: -\\r\\n * @vulnerable_at_lines: 21\\r\\n */\\r\\n\\r\\n// SPDX-License-Identifier: UNLICENSED\\r\\npragma solidity ^0.8.0;\\r\\n\\r\\ncontract SimpleDAO {\\r\\n  mapping (address => uint) public credit;\\r\\n\\r\\n  function donate(address to) public payable {\\r\\n    credit[to] += msg.value;\\r\\n  }\\r\\n\\r\\n  function withdraw(uint amount) public {\\r\\n    if (credit[msg.sender]>= amount) {\\r\\n      // <yes> <report> REENTRANCY\\r\\n      (bool res,) = msg.sender.call{value: amount}(\\\"\\\");\\r\\n      credit[msg.sender]-=amount;\\r\\n    }\\r\\n  }\\r\\n\\r\\n  function queryCredit(address to) public view returns (uint){\\r\\n    return credit[to];\\r\\n  }\\r\\n}\\r\\n\",\"keccak256\":\"0xf6f49208670973ce031fd0b8ed63b75c9cc141f3b4a057ac695ac884c8347199\",\"license\":\"UNLICENSED\"}},\"version\":1}"}}},"errors":[{"component":"general","errorCode":"2072","formattedMessage":"Warning: Unused local variable.\n  --> SimpleDAO.sol:21:8:\n   |\n21 |       (bool res,) = msg.sender.call{value: amount}(\"\");\n   |        ^^^^^^^^\n\n","message":"Unused local variable.","severity":"warning","sourceLocation":{"end":570,"file":"SimpleDAO.sol","start":562},"type":"Warning"}],"sources":{"SimpleDAO.sol":{"id":0}}}
